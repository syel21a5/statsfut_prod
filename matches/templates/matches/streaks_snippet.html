<!-- Current Streaks & Sequences -->
<div style="font-weight: bold; margin-bottom: 5px; color: #fff; font-size: 0.85rem; margin-top: 20px;">Current Streaks &
    Sequences</div>
<div class="ss-card" style="margin-bottom: 20px;">
    <table class="ss-table" style="font-size: 0.8rem;">
        <thead>
            <tr style="background: #666; color: #fff;">
                <th style="text-align: right; padding-right: 15px; width: 40%; font-weight: normal;">CURRENT SEQUENCES
                </th>
                <th style="font-weight: normal;">Home</th>
                <th style="font-weight: normal;">Away</th>
                <th style="font-weight: normal;">Total</th>
            </tr>
        </thead>
        <tbody>
            <!-- Helper style for cells -->
            <!-- If > 0: green bg if positive, red if negative? Or check screenshot... -->
            <!-- Screenshot: 
                             Wins: Green
                             Draws: ?
                             Defeats: Red
                             No Win: Red
                             No Defeat: Green
                             Scored: Green
                             Conceded: Red
                             No Scored: Red
                             No Conceded: Green
                        -->

            <tr style="background: #e9e9e9;">
                <td style="text-align: right; padding-right: 15px;">Consecutive wins</td>
                <td class="{% if streaks.home.win != '-' %}bg-success-light{% endif %}">{{ streaks.home.win }}</td>
                <td class="{% if streaks.away.win != '-' %}bg-success-light{% endif %}">{{ streaks.away.win }}</td>
                <td class="{% if streaks.total.win != '-' %}bg-success-light{% endif %}"><strong>{{ streaks.total.win }}</strong></td>
            </tr>
            <tr style="background: #e9e9e9;">
                <td style="text-align: right; padding-right: 15px;">Consecutive draws</td>
                <td class="{% if streaks.home.draw != '-' %}bg-warning-light{% endif %}">{{ streaks.home.draw }}</td>
                <td class="{% if streaks.away.draw != '-' %}bg-warning-light{% endif %}">{{ streaks.away.draw }}</td>
                <td class="{% if streaks.total.draw != '-' %}bg-warning-light{% endif %}"><strong>{{ streaks.total.draw }}</strong></td>
            </tr>
            <tr style="background: #e9e9e9;">
                <td style="text-align: right; padding-right: 15px;">Consecutive defeats</td>
                <td class="{% if streaks.home.loss != '-' %}bg-danger-light{% endif %}">{{ streaks.home.loss }}</td>
                <td class="{% if streaks.away.loss != '-' %}bg-danger-light{% endif %}">{{ streaks.away.loss }}</td>
                <td class="{% if streaks.total.loss != '-' %}bg-danger-light{% endif %}"><strong>{{ streaks.total.loss }}</strong></td>
            </tr>

            <tr style="background: #f9f9f9; border-top: 10px solid #fff;">
                <td style="text-align: right; padding-right: 15px;">No win</td>
                <td class="{% if streaks.home.no_win != '-' %}bg-danger-light{% endif %}">{{ streaks.home.no_win }}</td>
                <td class="{% if streaks.away.no_win != '-' %}bg-danger-light{% endif %}">{{ streaks.away.no_win }}</td>
                <td class="{% if streaks.total.no_win != '-' %}bg-danger-light{% endif %}"><strong>{{ streaks.total.no_win }}</strong></td>
            </tr>
            <tr style="background: #f9f9f9;">
                <td style="text-align: right; padding-right: 15px;">No draw</td>
                <td>{{ streaks.home.no_draw }}</td>
                <td>{{ streaks.away.no_draw }}</td>
                <td><strong>{{ streaks.total.no_draw }}</strong></td>
            </tr>
            <tr style="background: #f9f9f9;">
                <td style="text-align: right; padding-right: 15px;">No defeat</td>
                <td class="{% if streaks.home.no_defeat != '-' %}bg-success-light{% endif %}">{{ streaks.home.no_defeat }}</td>
                <td class="{% if streaks.away.no_defeat != '-' %}bg-success-light{% endif %}">{{ streaks.away.no_defeat }}</td>
                <td class="{% if streaks.total.no_defeat != '-' %}bg-success-light{% endif %}"><strong>{{ streaks.total.no_defeat }}</strong></td>
            </tr>

            <tr style="background: #e9e9e9; border-top: 10px solid #fff;">
                <td style="text-align: right; padding-right: 15px;">1 goal scored or more</td>
                <td class="{% if streaks.home.scored_1plus != '-' %}bg-success-light{% endif %}">{{ streaks.home.scored_1plus }}</td>
                <td class="{% if streaks.away.scored_1plus != '-' %}bg-success-light{% endif %}">{{ streaks.away.scored_1plus }}</td>
                <td class="{% if streaks.total.scored_1plus != '-' %}bg-success-light{% endif %}"><strong>{{ streaks.total.scored_1plus }}</strong></td>
            </tr>
            <tr style="background: #e9e9e9;">
                <td style="text-align: right; padding-right: 15px;">1 goal conceded or more</td>
                <td class="{% if streaks.home.conceded_1plus != '-' %}bg-danger-light{% endif %}">{{ streaks.home.conceded_1plus }}</td>
                <td class="{% if streaks.away.conceded_1plus != '-' %}bg-danger-light{% endif %}">{{ streaks.away.conceded_1plus }}</td>
                <td class="{% if streaks.total.conceded_1plus != '-' %}bg-danger-light{% endif %}"><strong>{{ streaks.total.conceded_1plus }}</strong></td>
            </tr>
            <tr style="background: #e9e9e9;">
                <td style="text-align: right; padding-right: 15px;">No goal scored</td>
                <td class="{% if streaks.home.no_goal_scored != '-' %}bg-danger-light{% endif %}">{{ streaks.home.no_goal_scored }}</td>
                <td class="{% if streaks.away.no_goal_scored != '-' %}bg-danger-light{% endif %}">{{ streaks.away.no_goal_scored }}</td>
                <td class="{% if streaks.total.no_goal_scored != '-' %}bg-danger-light{% endif %}"><strong>{{ streaks.total.no_goal_scored }}</strong></td>
            </tr>
            <tr style="background: #e9e9e9;">
                <td style="text-align: right; padding-right: 15px;">No goal conceded</td>
                <td class="{% if streaks.home.no_goal_conceded != '-' %}bg-success-light{% endif %}">{{ streaks.home.no_goal_conceded }}</td>
                <td class="{% if streaks.away.no_goal_conceded != '-' %}bg-success-light{% endif %}">{{ streaks.away.no_goal_conceded }}</td>
                <td class="{% if streaks.total.no_goal_conceded != '-' %}bg-success-light{% endif %}"><strong>{{ streaks.total.no_goal_conceded }}</strong></td>
            </tr>
            <tr style="background: #e9e9e9;">
                <td style="text-align: right; padding-right: 15px;">GF+GA over 2.5</td>
                <td>{{ streaks.home.over_25 }}</td>
                <td>{{ streaks.away.over_25 }}</td>
                <td><strong>{{ streaks.total.over_25 }}</strong></td>
            </tr>
            <tr style="background: #e9e9e9;">
                <td style="text-align: right; padding-right: 15px;">GF+GA under 2.5</td>
                <td>{{ streaks.home.under_25 }}</td>
                <td>{{ streaks.away.under_25 }}</td>
                <td><strong>{{ streaks.total.under_25 }}</strong></td>
            </tr>
            <tr style="background: #e9e9e9; border-bottom: 2px solid #ccc;">
                <td style="text-align: right; padding-right: 15px;">Scored at least twice</td>
                <td class="{% if streaks.home.scored_2plus != '-' %}bg-success-light{% endif %}">{{ streaks.home.scored_2plus }}</td>
                <td class="{% if streaks.away.scored_2plus != '-' %}bg-success-light{% endif %}">{{ streaks.away.scored_2plus }}</td>
                <td class="{% if streaks.total.scored_2plus != '-' %}bg-success-light{% endif %}"><strong>{{ streaks.total.scored_2plus }}</strong></td>
            </tr>
        </tbody>
    </table>
    <div style="text-align: center; padding: 5px;">
        <button
            style="border: 1px solid #ccc; background: #fff; padding: 2px 10px; border-radius: 4px; font-size: 0.75rem;">Current
            Sequences table</button>
    </div>
</div>

<!-- Historical Statistics -->
<div style="font-weight: bold; margin-bottom: 5px; color: #fff; font-size: 0.85rem;">Historical statistics</div>
<div class="ss-card" style="margin-bottom: 20px; padding: 0;">
    <div
        style="padding: 10px; background: #f0f0f0; font-weight: bold; font-size: 0.85rem; border-bottom: 1px solid #ddd;">
        <img src="{{ team.logo }}" style="height: 16px; vertical-align: middle; margin-right: 5px;">
        {{ team.name }} (current season vs completed previous season)
    </div>

    <table class="ss-table" style="font-size: 0.8rem; width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background: #666; color: #fff;">
                <th style="font-weight: normal;">Season</th>
                <th style="font-weight: normal;">Pld</th>
                <th style="font-weight: normal;">Avg Pts</th>
                <th style="font-weight: normal;">Avg GF</th>
                <th style="font-weight: normal;">Avg GA</th>
                <th style="font-weight: normal;">W</th>
                <th style="font-weight: normal;">D</th>
                <th style="font-weight: normal;">L</th>
                <th style="font-weight: normal;">CS</th>
                <th style="font-weight: normal;">FTS</th>
            </tr>
        </thead>
        <tbody>
            <!-- Overall -->
            <tr style="background: #fff; font-weight: bold;">
                <td>{{ historical_stats.season_name }}</td>
                <td>{{ historical_stats.current.overall.pld }}</td>
                <td class="bg-success-pale">{{ historical_stats.current.overall.avg_pts|floatformat:2 }}</td>
                <td class="bg-success-pale">{{ historical_stats.current.overall.avg_gf|floatformat:2 }}</td>
                <td class="bg-success-pale">{{ historical_stats.current.overall.avg_ga|floatformat:2 }}</td>
                <td class="bg-success-pale">{{ historical_stats.current.overall.w_pct }}%</td>
                <td class="bg-warning-pale">{{ historical_stats.current.overall.d_pct }}%</td>
                <td class="bg-danger-pale">{{ historical_stats.current.overall.l_pct }}%</td>
                <td class="bg-success-pale">{{ historical_stats.current.overall.cs_pct }}%</td>
                <td class="bg-success-pale">{{ historical_stats.current.overall.fts_pct }}%</td>
            </tr>
            <tr style="background: #fff; font-weight: bold; border-bottom: 15px solid #f8f9fa;">
                <td>{{ historical_stats.prev_season_name }}</td>
                <td>{{ historical_stats.previous.overall.pld }}</td>
                <td>{{ historical_stats.previous.overall.avg_pts|floatformat:2 }}</td>
                <td>{{ historical_stats.previous.overall.avg_gf|floatformat:2 }}</td>
                <td>{{ historical_stats.previous.overall.avg_ga|floatformat:2 }}</td>
                <td>{{ historical_stats.previous.overall.w_pct }}%</td>
                <td>{{ historical_stats.previous.overall.d_pct }}%</td>
                <td>{{ historical_stats.previous.overall.l_pct }}%</td>
                <td>{{ historical_stats.previous.overall.cs_pct }}%</td>
                <td>{{ historical_stats.previous.overall.fts_pct }}%</td>
            </tr>

            <!-- Home -->
            <tr style="background: #fdfdfd; font-weight: bold;">
                <td>{{ historical_stats.season_name }} (home)</td>
                <td>{{ historical_stats.current.home.pld }}</td>
                <td class="bg-success-pale">{{ historical_stats.current.home.avg_pts|floatformat:2 }}</td>
                <td class="bg-success-pale">{{ historical_stats.current.home.avg_gf|floatformat:2 }}</td>
                <td class="bg-success-pale">{{ historical_stats.current.home.avg_ga|floatformat:2 }}</td>
                <td class="bg-success-pale">{{ historical_stats.current.home.w_pct }}%</td>
                <td class="bg-warning-pale">{{ historical_stats.current.home.d_pct }}%</td>
                <td class="bg-danger-pale">{{ historical_stats.current.home.l_pct }}%</td>
                <td class="bg-success-pale">{{ historical_stats.current.home.cs_pct }}%</td>
                <td class="bg-success-pale">{{ historical_stats.current.home.fts_pct }}%</td>
            </tr>
            <tr style="background: #fdfdfd; font-weight: bold; border-bottom: 15px solid #f8f9fa;">
                <td>{{ historical_stats.prev_season_name }} (home)</td>
                <td>{{ historical_stats.previous.home.pld }}</td>
                <td>{{ historical_stats.previous.home.avg_pts|floatformat:2 }}</td>
                <td>{{ historical_stats.previous.home.avg_gf|floatformat:2 }}</td>
                <td>{{ historical_stats.previous.home.avg_ga|floatformat:2 }}</td>
                <td>{{ historical_stats.previous.home.w_pct }}%</td>
                <td>{{ historical_stats.previous.home.d_pct }}%</td>
                <td>{{ historical_stats.previous.home.l_pct }}%</td>
                <td>{{ historical_stats.previous.home.cs_pct }}%</td>
                <td>{{ historical_stats.previous.home.fts_pct }}%</td>
            </tr>

            <!-- Away -->
            <tr style="background: #fff; font-weight: bold;">
                <td>{{ historical_stats.season_name }} (away)</td>
                <td>{{ historical_stats.current.away.pld }}</td>
                <td class="bg-success-pale">{{ historical_stats.current.away.avg_pts|floatformat:2 }}</td>
                <td class="bg-danger-pale">{{ historical_stats.current.away.avg_gf|floatformat:2 }}</td>
                <td class="bg-danger-pale">{{ historical_stats.current.away.avg_ga|floatformat:2 }}</td>
                <td class="bg-success-pale">{{ historical_stats.current.away.w_pct }}%</td>
                <td class="bg-warning-pale">{{ historical_stats.current.away.d_pct }}%</td>
                <td class="bg-danger-pale">{{ historical_stats.current.away.l_pct }}%</td>
                <td class="bg-success-pale">{{ historical_stats.current.away.cs_pct }}%</td>
                <td class="bg-success-pale">{{ historical_stats.current.away.fts_pct }}%</td>
            </tr>
            <tr style="background: #fff; font-weight: bold;">
                <td>{{ historical_stats.prev_season_name }} (away)</td>
                <td>{{ historical_stats.previous.away.pld }}</td>
                <td>{{ historical_stats.previous.away.avg_pts|floatformat:2 }}</td>
                <td>{{ historical_stats.previous.away.avg_gf|floatformat:2 }}</td>
                <td>{{ historical_stats.previous.away.avg_ga|floatformat:2 }}</td>
                <td>{{ historical_stats.previous.away.w_pct }}%</td>
                <td>{{ historical_stats.previous.away.d_pct }}%</td>
                <td>{{ historical_stats.previous.away.l_pct }}%</td>
                <td>{{ historical_stats.previous.away.cs_pct }}%</td>
                <td>{{ historical_stats.previous.away.fts_pct }}%</td>
            </tr>
        </tbody>
    </table>
</div>

<style>
    .bg-success-light {
        background-color: #d4edda;
        color: #155724;
        font-weight: bold;
    }

    .bg-danger-light {
        background-color: #f8d7da;
        color: #721c24;
        font-weight: bold;
    }

    .bg-warning-light {
        background-color: #fff3cd;
        color: #856404;
        font-weight: bold;
    }

    .bg-success-pale {
        background-color: #e6ffec;
    }

    .bg-danger-pale {
        background-color: #ffe6e6;
    }

    .bg-warning-pale {
        background-color: #fffde6;
    }
</style>